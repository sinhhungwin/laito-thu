<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n l√Ω doanh thu</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
        input, select, button { display: block; margin: 10px auto; padding: 10px; width: 80%; }
        #status { margin-top: 10px; font-weight: bold; }
    </style>
</head>
<body>
    <h2>Nh·∫≠p th√¥ng tin h√≥a ƒë∆°n</h2>

    <label for="paymentMethod">Ph∆∞∆°ng th·ª©c thanh to√°n:</label>
    <select id="paymentMethod">
        <option value="Ti·ªÅn m·∫∑t">Ti·ªÅn m·∫∑t</option>
        <option value="Chuy·ªÉn kho·∫£n">Chuy·ªÉn kho·∫£n</option>
        <option value="Th·∫ª">Th·∫ª</option>
        <option value="Paypal">PayPal</option>
    </select>

    <label for="amount">S·ªë ti·ªÅn:</label>
    <input type="number" id="amount" placeholder="Nh·∫≠p s·ªë ti·ªÅn">

    <label for="note">Ghi ch√∫:</label>
    <input type="text" id="note" placeholder="Ghi ch√∫ (t√πy ch·ªçn)">

    <label for="hungBan">Em H√πng b√°n?</label>
    <select id="hungBan">
        <option value="C√≥">C√≥</option>
        <option value="Kh√¥ng">Kh√¥ng</option>
    </select>

    <button onclick="sendData()">G·ª≠i</button>

    <p id="status"></p>

    <script>
        function sendData() {
            let url = "https://script.google.com/macros/s/AKfycbwNdBVNTBTixA776Xpr0hRqGU_-trSRlQclpiuIWd1qo6rSUeWYCHTIUYVWxc_TE-FY/exec";
            let paymentMethod = document.getElementById("paymentMethod").value;
            let amount = document.getElementById("amount").value;
            let note = document.getElementById("note").value;
            let hungBan = document.getElementById("hungBan").value;

            if (!amount) {
                document.getElementById("status").innerText = "‚ùå Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn!";
                document.getElementById("status").style.color = "red";
                return;
            }

            let fullUrl = `${url}?paymentMethod=${encodeURIComponent(paymentMethod)}&amount=${encodeURIComponent(amount)}&note=${encodeURIComponent(note)}&hungBan=${encodeURIComponent(hungBan)}`;

            fetch(fullUrl)
                .then(response => response.text())
                .then(data => {
                    let message = `‚úÖ G·ª≠i th√†nh c√¥ng!\nPh∆∞∆°ng th·ª©c: ${paymentMethod}\nS·ªë ti·ªÅn: ${amount}\nGhi ch√∫: ${note}\nEm H√πng b√°n? ${hungBan}`;
                    document.getElementById("status").innerText = message;
                    document.getElementById("status").style.color = "green";

                    // Copy to clipboard
                    let clipboardText = `üí∞ THU üí∞\nPh∆∞∆°ng th·ª©c: ${paymentMethod}, \nS·ªë ti·ªÅn: ${amount}, \nGhi ch√∫: ${note}, \nEm H√πng b√°n? ${hungBan}`;
                    navigator.clipboard.writeText(clipboardText).then(() => {
                        console.log("üìã ƒê√£ copy v√†o clipboard!");
                    });

                    // ‚úÖ Reset form sau khi g·ª≠i
                    document.getElementById("paymentMethod").selectedIndex = 0; // Reset dropdown
                    document.getElementById("amount").value = ""; // Reset input
                    document.getElementById("note").value = ""; // Reset input
                    document.getElementById("hungBan").selectedIndex = 0; // Reset dropdown
                })
                .catch(error => {
                    document.getElementById("status").innerText = "‚ùå L·ªói khi g·ª≠i!";
                    document.getElementById("status").style.color = "red";
                });
        }
    </script>
</body>
</html>
